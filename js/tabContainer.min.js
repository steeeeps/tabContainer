(function(h){function v(w){return w.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}if(!Function.prototype.bind){Function.prototype.bind=function(y){var w=this,x=Array.prototype.slice.call(arguments);return function(){return w.apply(y,x.slice(1))}}}Array.prototype.remove=function(w){if(w==this.length){this.pop();return this}else{if(w==0){this.shift();return this}else{return this.slice(0,w).concat(this.slice(w+1,this.length))}}};function i(w){w=w||h.event;if(w.stopPropagation){w.stopPropagation()}else{w.cancelBubble=true}}function a(w){w=w||h.event;return w.srcElement||w.target}function b(w){return{}.toString.call(w)=="[object Function]"}function m(w){return{}.toString.call(w)=="[object String]"}function u(x){var w=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return w.test(x)}function q(w){return v(w)===""}function j(x){var w=/^(\/\w+)*([\/])?$/;return w.test(x)}function g(x){var w=/^[a-zA-Z]:(\\\w+)*([\\])?$/;return w.test(x)}function p(x){var w=/^\d+$/;return w.test(x)}function d(x){var w=/[\u4E00-\u9FA5\uf900-\ufa2d]/;return x.match(w)?true:false}String.prototype.toFirstCharUpperCase=function(){var w=this.charAt(0);return this.replace(w,w.toUpperCase())};h.lang={trim:v,stopPropagation:i,srcElement:a,isString:m,isFunction:b,isIp:u,isNull:q,isLinuxPath:j,isWinPath:g,isNum:p,hasChinese:d};var r=h.document;function c(x,w){return((" "+w.className+" ").indexOf(" "+x+" "))>=0}function o(A,y){var z=y.className?" "+y.className+" ":" ";A=A.split(/\s+/);for(var x=0;x<A.length;x++){var w=A[x];z=z.replace(" "+w+" "," ")}z=lang.trim(z);if(y.className!=z){y.className=z}}function l(A,y){var z=y.className?" "+y.className+" ":" ";A=A.split(/\s+/);for(var x=0;x<A.length;x++){var w=A[x];if(w&&z.indexOf(" "+w+" ")<0){z+=w+" "}}z=lang.trim(z);if(y.className!=z){y.className=z}}function f(y,x,w){w=w||"*";x=x||r.body;return s(y,x,w)}function s(B,x,w){var y=[];var A=x.getElementsByTagName(w);for(var z=0;z<A.length;z++){var C=A[z];if(e(B,C)){y.push(C)}}return y}function e(x,w){if(x.indexOf(".")>=0){return c(x.substring(1,x.length),w)}else{return w.getAttribute("name")==x}}function n(x,A,w){if(!x){return null}var z=r.createElement(x);if(A&&typeof A=="object"){for(var y in A){if(A.hasOwnProperty(y)){if(y=="innerHTML"){z.innerHTML=A.innerHTML}else{z.setAttribute(y,A[y])}}}}if(w&&w.appendChild){w.appendChild(z)}return z}function t(x){var y=x.firstElementChild;if(y){return y}else{var z=x.childNodes;for(var w=0;w<z.length;w++){var A=z[w];if(A.nodeType===1){return A}}return null}}h.dom={hasClass:c,removeClass:o,addClass:l,getDom:f,createDom:n,getFirstElementChild:t};function k(w){this._defaultTabName="tab_";this._defaultContentName="content_";this._tabs=[];this.selectedTab=null;w=w||r.body;this._initTabContainer(w)}k.prototype.addTab=function(w){w=w||{title:"tab"+this._tabs.length,content:"content"+this._tabs.length,closable:true};this._addTab(w)};k.prototype.getTabs=function(){var y=[];var x;for(var w=0;w<this._tabs.length;w++){x=this._tabs[w];if(x){y.push(x)}}return y};k.prototype._initTabContainer=function(x){var w='<div class="tabContainer pr"><div class="tabMenus"><ul class="tabMenus-ul"><li class="addTab-li pr"><span class="tab dib  tac fl ml2 addTabSize  addTab pa">+</span></li></ul></div><div id="tabContents"class="tabContents pr"></div></div>';x.innerHTML+=w;if(x.id){this._defaultTabName=x.id+"_tab_";this._defaultContentName=x.id+"_content_"}this._initMenuAndContent(x)};k.prototype._initMenuAndContent=function(w){this._tabContainer=dom.getDom(".tabContainer",w,"div")[0];this._tabMenus=dom.getDom(".tabMenus-ul",this._tabContainer,"ul")[0];this._tabContents=dom.getDom(".tabContents",this._tabContainer,"div")[0];this.addTabBtn=dom.getDom(".addTab",this._tabMenus,"span")[0];this.addTabBtn.onclick=this.addTab.bind(this,null)};k.prototype._addTab=function(w){this._changeSelectTabStatus();this._addTabMenu(w.title,w.closable);this._addTabContent(w.content,w.title)};k.prototype._addTabMenu=function(A,w){var x=dom.createDom("li",{"class":"tabMenus-li"});var z=dom.createDom("span",{"class":"tab dib  tac fl normalTabSize pr tabCur",id:this._defaultTabName+this._tabs.length,"for":this._defaultContentName+this._tabs.length,innerHTML:A,tabtitle:A});var y=dom.createDom("span",{"class":w?"pa tab-closeBtn":"pa tab-closeBtn  dn",innerHTML:"x"});y.onclick=this._closeTabHandler.bind(this);z.onclick=this._tabClickHandler.bind(this);z.appendChild(y);x.appendChild(z);this._tabMenus.insertBefore(x,this.addTabBtn.parentNode)};k.prototype._addTabContent=function(w,x){var y=dom.createDom("div",{"class":"content contentCur",id:this._defaultContentName+this._tabs.length,tabtitle:x});if(lang.isString(w)){y.innerHTML=w}else{y.appendChild(w)}this._tabContents.appendChild(y);this._tabs.push(y);this.selectedTab=y};k.prototype._tabClickHandler=function(w){w=w||h.event;var x=lang.srcElement(w);this._changeSelectTabStatus();dom.addClass("tabCur",x);this.selectedTab=r.getElementById(x.getAttribute("for"));dom.addClass("contentCur",this.selectedTab)
};k.prototype._changeSelectTabStatus=function(){if(!this.selectedTab){return}var w=dom.getDom(".tabCur",this._tabMenus,"span")[0];dom.removeClass("tabCur",w);dom.removeClass("contentCur",this.selectedTab)};k.prototype._closeTabHandler=function(y){lang.stopPropagation(y);y=y||h.event;var x=lang.srcElement(y);var z=x.parentNode;var w=h.confirm("是否删除服务器: "+z.getAttribute("tabtitle")+" ？");if(!w){return}this._removeTab(z)};k.prototype._removeTab=function(z){var w=z.getAttribute("for");var y=r.getElementById(w);this._tabMenus.removeChild(z.parentNode);this._tabContents.removeChild(y);var x=w.substring(w.lastIndexOf("_")+1,w.length);this._tabs[x]=null;if(w===this.selectedTab.id){do{x--}while(!this._tabs[x]);this.selectedTab=this._tabs[x];dom.addClass("contentCur",this.selectedTab);dom.addClass("tabCur",r.getElementById(this._defaultTabName+(x)))}};h.TabContainer=k})(window);